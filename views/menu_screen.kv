<MenuScreen>:  
    BoxLayout:
        orientation: "vertical"
        padding: ["10dp", "10dp", "10dp", "10dp"]
        spacing: "10dp"
        BoxLayout:
            id: ChartView
            orientation: "vertical"
            DatePickerBar:
                size_hint: 1, 0.2
                id: DatePickerBar

        TaskBar:
            id: TaskBar
        ScrollView:
            StackLayout:
                id: TaskStack
                height : self.minimum_height

<DatePickerBar@BoxLayout>:
    Spinner:
        id: year
        text:"year"
        pos_hint: {"center_x":0.25}
        values: [str(year) for year in range(2024,2000, -1)]
    Spinner:
        id: month
        text:"month"
        pos_hint: {"center_x":0.75}
        values: ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"]
    ShowGraphButton:
        text: "generate"
        size_hint: 0.25, 1
        background_color: 1,0,0,1
        year: root.ids.year.text
        month: root.ids.month.text




    
<TaskBar@BoxLayout>:
    size_hint: 1, None
    height: "40dp"
    Button:
        text:"Tasks"
        font_size: 20
        background_color: (0, 1, 1, 1)
    AddTaskButton:
        text:"Add"
        size_hint:0.1, 1
        background_color: (0.5, 0 , 0, 1)
        on_release: self.open_add_popup()


<AddTaskPopup>:
    size_hint: 0.7, 0.7
    title: "add a task"
    BoxLayout:
        orientation: "vertical"
        spacing: "10dp"

        TaskTitleTextInput:
            id: TaskTitleParent
        TaskTimeSpentTextInput:
            id: TaskTimeSpentParent
        DifficultySpinner:
            id: DifficultySpinner
        SaveTaskButton
            id: Save
            on_release: root.save_task()
        Label:
            id: AlertLabel
            text:""
            color: (1, 0, 0, 1)

<TaskTitleTextInput@BoxLayout>:
    #size_hint = 1, None
    #height: "40dp"
    Label:
        size_hint: 0.3, 1
        pos_hint: {"center_x":0.5, "center_y": 0.5}
        text: "enter task title: "
    TextInput:
        id: TaskTitle
        size_hint_y: 0.5
        pos_hint: {"center_x":0.5, "center_y": 0.5}
        hint_text: "e.g: gym"
        multiline: False

<TaskTimeSpentTextInput@BoxLayout>:
    Label:
        size_hint: 0.3, 1
        pos_hint: {"center_x":0.5, "center_y": 0.5}
        padding: "5dp"
        text: """enter time spent: \n(in minutes)"""
    TextInput:
        id: TaskTimeSpent
        size_hint_y: 0.5
        pos_hint: {"center_x":0.5, "center_y": 0.5}
        hint_text: "e.g: 24"
        multiline: False

<DifficultySpinner@Spinner>:
    text: "difficulty level"
    size_hint_y: 0.5
    pos_hint: {"center_x":0.5, "center_y": 0.5}
    values: ["very easy", "easy", "normal", "hard", "very hard"]

<SaveTaskButton@Button>:
    padding: "5dp"
    size_hint: None, None
    size: "40dp","40dp"
    pos_hint: {"center_x":0.5, "center_y": 0.5}
    text: "Save"


