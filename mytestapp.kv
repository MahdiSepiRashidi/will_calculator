<MyScreenManager>:
    RootScreen:
        name: "root"

    AddTaskScreen:
        name: "add_task"
    
    TasksScreen:
        name: "tasks"

<RootScreen>:
    BoxLayout:
        orientation:"vertical"
        pos_hint: {"center_x":0.5, "center_y": 0.5}
        size_hint: 0.5, 0.5
        spacing: 10

        Button:
            text: "add tasks"
            pos_hint: {"center_y": 0.95}
            size_hint: 1, 0.1      
            on_release: root.manager.current = 'add_task'

        Button:
            text: "tasks"
            pos_hint: {"center_y": 0.95}
            size_hint: 1, 0.1      
            on_release: root.manager.current = 'tasks'


<AddTaskScreen>:
    BackButton
    BoxLayout:
        orientation: "vertical"
        pos_hint: {"center_x":0.5, "center_y": 0.5}
        size_hint: 0.5, 0.5
        spacing: 10

        MDLabel:
            id: submit_message
            font_size: 24

        TextInput:
            id: task_title
            hint_text: "Enter task title"

        TextInput:

            id: time_spent
            hint_text: "time spent in minutes(put a number)"


        Spinner:
            id: difficulty
            text: "difficulty level"
            values: ["very easy", "easy", "normal", "hard", "very hard"]
        
        Button:
            text : "submit"
            size_hint: 0.2, 0.3
            pos_hint: {"center_x": 0.5}
            on_release: root.parse_and_submit()
        

<TasksScreen>:
    BackButton
    BoxLayout:
        orientation: "vertical"
        size_hint: 0.8, 0.8  # Make the RecycleView wider
        pos_hint: {"center_x": 0.5, "center_y": 0.5}  # Center it on the screen
        TaskRecycleView:
            id: task_recycle_view

<BackButton@Button>:
    text: "back"
    pos_hint: {"center_y": 0.95, "center_x": 0.05}
    size_hint: 0.1, 0.1  
    on_release: app.root.current = 'root'

<TaskRecycleView@RecycleView>:
    viewclass: 'TaskLabel'
    RecycleBoxLayout:
        orientation: 'vertical'
        default_size: None, dp(56)  # Set the default height of each item
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        spacing: dp(10)  # Add spacing between items

<TaskLabel@MDLabel>:
    size_hint: 1, None
    height: dp(56)  # Adjust the height to be consistent with the spacing
    text: root.text
    halign: 'center'
    valign: 'middle'
    font_style: 'H6'
    theme_text_color: 'Primary'
    padding: [10, 10]
    canvas.before:
        Color:
            rgba: app.theme_cls.primary_light
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [4]
        Color:
            rgba: (0, 0, 0, 0.3)  # Set border color with some transparency
        Line:
            width: 1.2
            rounded_rectangle: (self.x, self.y, self.width, self.height, 4)


        




